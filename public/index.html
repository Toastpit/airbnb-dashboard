<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ferienhaus â€” Dashboard</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
<header class="topbar">
  <div>
    <div class="title">Ferienhaus</div>
    <div class="sub">Dashboard</div>
  </div>
  <div id="stats" class="stats" style="display:none;">
    <div class="stat-item">
      <div class="stat-label">Einnahmen</div>
      <div class="stat-value" id="stat-revenue">0 â‚¬</div>
    </div>
    <div class="stat-item">
      <div class="stat-label">Netto</div>
      <div class="stat-value" id="stat-net">0 â‚¬</div>
    </div>
    <div class="stat-item warn">
      <div class="stat-label">Kurtaxe offen</div>
      <div class="stat-value" id="stat-kt">0 â‚¬</div>
    </div>
    <div class="stat-item warn">
      <div class="stat-label">Reinigung offen</div>
      <div class="stat-value" id="stat-clean">0 â‚¬</div>
    </div>
    <div class="stat-item warn">
      <div class="stat-label">WÃ¤sche offen</div>
      <div class="stat-value" id="stat-laundry">0 â‚¬</div>
    </div>
  </div>
  <div class="top-actions">
    <select id="yearSel"></select>
    <button id="btnReload" class="btn ghost">Reload</button>
    <button id="btnAdd" class="btn primary">+ Eintrag</button>
    <button id="btnLogout" class="btn ghost">Logout</button>
    <button id="btnSettings" class="btn ghost">Settings</button>
  </div>
</header>

<main class="wrap">
  <section class="panel" id="loginPanel">
    <div class="panel-head"><div class="h">Login</div></div>
    <div class="login">
      <input id="username" type="text" placeholder="Username" />
      <input id="pw" type="password" placeholder="Passwort" />
      <button id="btnLogin" class="btn primary">Login</button>
      <div id="loginMsg" class="hint muted"></div>
    </div>
  </section>

  <section class="panel" id="dataPanel" style="display:none">
    <div class="panel-head"><div class="h">Buchungen</div></div>
    <div id="table"></div>
  </section>
</main>

<dialog id="dlgEdit">
  <form method="dialog" class="dlg">
    <div class="dlg-title" id="dlgTitle">Eintrag</div>

    <div class="dlg-section">
      <div class="section-title">Buchungsdaten</div>
      <div class="grid">
        <label>Jahr <input id="f_year" type="number" value="2026"></label>
        <label>Status
          <select id="f_status"></select>
        </label>
        <label>Quelle
          <select id="f_source"></select>
        </label>

        <label>Gast <input id="f_guest" placeholder="Max Mustermann"></label>
        <label>Personen <input id="f_persons" type="number" value="1"></label>
        <label>Gebucht am <input id="f_booked" type="datetime-local"></label>

        <label>Check-in <input id="f_in" type="date"></label>
        <label>Check-out <input id="f_out" type="date"></label>
        <label>Zahlstatus
          <select id="f_paid"></select>
        </label>
      </div>
    </div>

    <div class="dlg-section">
      <div class="section-title">ðŸ‘¥ GÃ¤ste-Details (fÃ¼r Kurtaxe-Berechnung)</div>
      <div id="guestsList"></div>
      <button type="button" id="btnAddGuest" class="btn tiny ghost" style="margin-top:10px;">+ Gast hinzufÃ¼gen</button>
    </div>

    <div class="dlg-section">
      <div class="section-title">Preise & GebÃ¼hren</div>
      <div class="grid">
        <label>Preis total <input id="f_price" type="number" step="0.01"></label>
        <label>Reinigung <input id="f_clean" type="number" step="0.01"></label>
        <label>Kurtaxe
          <div style="display:flex;gap:8px;">
            <input id="f_kt" type="number" step="0.01" style="flex:1;">
            <button type="button" id="btnCalcKurtaxe" class="btn tiny primary" title="Automatisch berechnen">âš¡</button>
          </div>
        </label>
        <label>WÃ¤sche Preis <input id="f_l_fee" type="number" step="0.01"></label>

        <label>Kurtaxe Status
          <select id="f_kt_status"></select>
        </label>
        <label>Kurkarte inkl. <input id="f_kur_incl" type="checkbox"></label>

        <label>WÃ¤sche gebucht <input id="f_l_booked" type="checkbox"></label>
        <label>WÃ¤sche inkl. <input id="f_l_incl" type="checkbox"></label>
        
      </div>
    </div>

    <div class="dlg-section">
      <div class="section-title">Notizen</div>
      <div class="grid">
        <label class="full"><textarea id="f_notes" placeholder="Interne Notizen..."></textarea></label>
      </div>
    </div>

    <div class="dlg-section payment-section">
      <div class="section-title">ðŸ’³ Zahlungen verwalten</div>
      <div class="payment-grid">
        <label class="payment-checkbox">
          <input id="f_kt_paid" type="checkbox">
          <span>Kurtaxe bezahlt</span>
        </label>
        <label class="payment-checkbox">
          <input id="f_clean_paid" type="checkbox">
          <span>Reinigung bezahlt</span>
        </label>
        <label class="payment-checkbox">
          <input id="f_l_paid" type="checkbox">
          <span>WÃ¤sche bezahlt</span>
        </label>
      </div>
    </div>

    <div class="dlg-actions">
      <button class="btn ghost" value="cancel">Cancel</button>
      <button id="btnDelete" class="btn ghost" value="delete">Delete</button>
      <button id="btnSave" class="btn primary" value="ok">Save</button>
    </div>
  </form>
</dialog>

<div id="toastContainer" class="toast-container"></div>

<script src="/app.js"></script>
</body>
</html>
